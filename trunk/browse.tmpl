## vim:sw=4:ts=4
#set $side_by_side = 0
#if len($imgurls) and len($subdirs) > 2
#set $side_by_side = 1
#end if

#set $left_side_dominates = 0
#if $side_by_side
#if len($imgurls) < len($subdirs)
#set $left_side_dominates = 1
#end if
#end if


#if $side_by_side
#set $lhs_width=250
#else
#set $lhs_width=350
#end if

#if $left_side_dominates
#set $lhs_side_width = 550
#else
#set $lhs_side_width = $lhs_width
#end if

<html>
<head>
<style>
body
{
    font-family: Georgia, Times New Roman, Times, serif;
    font-size: 90%;
    color: #333333;
    background-color: #eeeeee;
    height:100%;
}
a > img
{
    border: solid 2px #333366; 
}
a
{
    text-decoration: none;
    color: #333399;
}
.exiflink
{
    font-size: 55%;
}
#directory_section {
#if $side_by_side
    margin-top:2em;
    float:left;
    left:auto;
#if $left_side_dominates
    width:$lhs_side_width;
    padding-right:0;
    margin-right:0;
#else
    width:$lhs_width;
#end if
    height:100%;
#else

#if len($imgurls) and len($subdirs)
    padding-bottom:2em;
    border-bottom:2px solid #000;
#end if
    margin-top:2em;

#end if
    margin-right:0;
    padding-right:2em;
    margin-bottom:2em;
    line-height:300%;
}
#set leftcontent_width = $lhs_side_width + 10
#image_section {
#if $side_by_side
    height:100%;
    border-left:2px solid #000;
    padding-left:20px;
    margin-top:2em;

    margin-left:$leftcontent_width;


#else
    margin-top:3em;
#end if
    margin-bottom:0;
}

#enclosing_body {
    height:100%
}

</style>
    
<title>$title: $thisdir</title>
</head>

<body>

<div id="enclosing_body">

#if $index_html == None
<p>
#set $first = 1
#for $is_link, $dir, $name in $breadcrumbs
#if $first == 0
 &gt;&gt; 
#end if
#if $is_link
<b><a href="$dir">$name</a></b>
#else
<b>$name</b>
#end if
#set $first = 0
#end for
</p>

#if $whatsnew_name
<a href="$whatsnew_url">$whatsnew_name</a>
#end if

#else
$index_html
#end if



<div id="directory_section">

#for $dir, $name, $preview, $width, $height in $subdirs
#set $remain=$lhs_width-100
<table width="$lhs_width" style="display: inline">
<tr>
#if $preview
<td width="100">
<a href="$dir"><img src="$preview" border="2" align="middle" width="$width" height="$height"></a>
</td>
#if not $side_by_side
</tr>
#end if
#end if
#if not $side_by_side
<tr>
#set $name_width=$lhs_width
#else
#set $name_width=$lhs_width-100
#end if
<td align="left" width="$name_width">
<a href="$dir">$name</a>
</td></tr></table>
#end for

</div>

<div id="image_section" align="center">
#for $medurl, $bigurl, $thumburl, $caption, $width, $height in $imgurls:
<table style="display: inline">
<tr>
<td align="center" valign="middle" height="260" width="250">
<a href="$medurl"><img src="$thumburl" border="2" width="$width" height="$height" vspace="10" align="middle"></a><br>
<a href="$bigurl">$caption</a>
</td>
</tr>
</table>
#end for

</div>

</div>
</body>
</html>
